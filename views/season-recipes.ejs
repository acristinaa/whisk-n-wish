<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title><%= title %></title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <header class="container">
      <h1><%= pageTitle %></h1>
      <p><%= description %></p>
      <p>Check recipes for every season below! Yume Nume!!</p>
      <div class="search-container" style="margin: 20px 0">
        <input
          type="text"
          id="recipe-search"
          placeholder="Search recipes..."
          style="
            padding: 10px;
            width: 100%;
            max-width: 400px;
            border-radius: 5px;
            border: 1px solid #ddd;
          " />
      </div>
      <a href="/recipes/<%= season %>/new" class="btn-add">+ Add New Recipe</a>
    </header>

    <main class="container season-grid">
      <% if (recipes.length === 0) { %>
      <p>No recipes yet! Be the first to add one.</p>
      <% } else { %> <% recipes.forEach(function(recipe) { %>
      <div class="recipe-card">
        <h3><%= recipe.name %></h3>
        <p><%= recipe.description %></p>
        <div class="recipe-meta"><%= recipe.meta %></div>
        <div class="recipe-actions">
          <a
            href="/recipes/<%= season %>/<%= recipe._id %>/edit"
            class="btn-edit"
            >Edit</a
          >
          <form
            action="/recipes/<%= season %>/<%= recipe._id %>/delete"
            method="POST"
            style="display: inline">
            <button
              type="submit"
              class="btn-delete"
              onclick="return confirm('Are you sure you want to delete this recipe?')">
              Delete
            </button>
          </form>
        </div>
      </div>
      <% }) %> <% } %>
    </main>

    <footer class="container">
      <p>Note: Recipes were created with ChatGPT :D</p>
      <p>
        Simlish way to say you master these recipes: stats.set_skill_level
        major_cooking 10
      </p>
      <nav style="margin-top: 20px">
        <a href="/seasonal-recipes">Back to recipes</a> |
        <a href="/">Home</a>
      </nav>
    </footer>
    <script src="/client.js"></script>
  </body>
</html>
